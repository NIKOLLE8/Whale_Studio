<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="../Imagenes/logo_pagina.png">
        <title>Whale Studio</title>        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link href="../css/nosotros.css" rel="stylesheet" type="text/css"/>
        <link href="../css/header_footer.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <header id="header"></header>
        
        <main>
            <section class="Imagenprincipal">
                <div class="Imagenprincipal-content">
                    <h1 id="imagen-principal-title"></h1>
                </div>
            </section>

            <section id="historia" class="section">
                <h2 class="section-title" id="historia-title"></h2>
                <div class="mirror-grid">
                    <div class="mirror-item">
                        <div class="mirror-image mirror-image-inicios"></div>
                        <div class="mirror-content">
                            <h3 id="inicios-title"></h3>
                            <p id="inicios-description"></p>
                        </div>
                    </div>
                    <div class="mirror-item">
                        <div class="mirror-image mirror-image-evolucion"></div>
                        <div class="mirror-content">
                            <h3 id="evolucion-title"></h3>
                            <p id="evolucion-description"></p>
                        </div>
                    </div>
                    <div class="mirror-item">
                        <div class="mirror-image mirror-image-innovacion"></div>
                        <div class="mirror-content">
                            <h3 id="innovacion-title"></h3>
                            <p id="innovacion-description"></p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="valores" class="values">
                <h2 class="section-title" id="valores-title"></h2>
                <div class="values-list">
                    <div class="value-item">
                        <div class="value-icon">üé®</div>
                        <h3 id="creatividad-title"></h3>
                        <p id="creatividad-description"></p>
                    </div>
                    <div class="value-item">
                        <div class="value-icon">ü§ù</div>
                        <h3 id="colaboracion-title"></h3>
                        <p id="colaboracion-description"></p>
                    </div>
                    <div class="value-item">
                        <div class="value-icon">üåü</div>
                        <h3 id="excelencia-title"></h3>
                        <p id="excelencia-description"></p>
                    </div>
                    <div class="value-item">
                        <div class="value-icon">üå±</div>
                        <h3 id="sostenibilidad-title"></h3>
                        <p id="sostenibilidad-description"></p>
                    </div>
                </div>
            </section>

            <section id="objetivo" class="objective">
                <h2 class="section-title" id="objetivo-title"></h2>
                <div class="objective-content">
                    <div class="objective-text">
                        <p id="objetivo-p1"></p>
                        <p id="objetivo-p2"></p>
                    </div>

                    <div class="objective-image">
                        <img id="objetivo-image" src="">
                        <div class="objective-quote" id="objetivo-quote"></div>
                    </div>
                </div>
            </section>

            <section id="localizarnos" class="MAPA">
                <h2 class="section-title" id="localizarnos-title"></h2>
                <div class="MAPA-mapa">
                    <iframe id="mapa-iframe" src="" width="100%" height="500"></iframe>
                </div>
                <div class="MAPA-content">
                    <div class="MAPA-text">
                        <address id="localizarnos-address">
                            <i class="fas fa-map-marker-alt"></i> 
                        </address>
                    </div>
                    <div class="MAPA-text">
                        <address id="localizarnos-hours">
                            <i class="fas fa-clock"></i> 
                        </address>
                    </div>
                </div>
            </section>
        </main>
        
        <footer id="footer"></footer>
        
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <script>
    // Funci√≥n para cargar los archivos JSON de traducci√≥n
    function loadTranslation(lang) {
        fetch(`../JSON/i18n_${lang}.json`)
            .then(response => response.json())
            .then(data => {
                // Actualizar el contenido del HTML con las traducciones
                       document.getElementById('imagen-principal-title').innerText = data.imagenPrincipal.title;

                document.getElementById('historia-title').innerText = data.historia.title;
                document.getElementById('inicios-title').innerText = data.historia.inicios.title;
                document.getElementById('inicios-description').innerText = data.historia.inicios.description;
                document.getElementById('evolucion-title').innerText = data.historia.evolucion.title;
                document.getElementById('evolucion-description').innerText = data.historia.evolucion.description;
                document.getElementById('innovacion-title').innerText = data.historia.innovacion.title;
                document.getElementById('innovacion-description').innerText = data.historia.innovacion.description;

                document.getElementById('valores-title').innerText = data.valores.title;
                document.getElementById('creatividad-title').innerText = data.valores.creatividad.title;
                document.getElementById('creatividad-description').innerText = data.valores.creatividad.description;
                document.getElementById('colaboracion-title').innerText = data.valores.colaboracion.title;
                document.getElementById('colaboracion-description').innerText = data.valores.colaboracion.description;
                document.getElementById('excelencia-title').innerText = data.valores.excelencia.title;
                document.getElementById('excelencia-description').innerText = data.valores.excelencia.description;
                document.getElementById('sostenibilidad-title').innerText = data.valores.sostenibilidad.title;
                document.getElementById('sostenibilidad-description').innerText = data.valores.sostenibilidad.description;

                document.getElementById('objetivo-title').innerText = data.objetivo.title;
                document.getElementById('objetivo-p1').innerText = data.objetivo.text.p1;
                document.getElementById('objetivo-p2').innerText = data.objetivo.text.p2;
                document.getElementById('objetivo-quote').innerText = data.objetivo.quote;
                document.getElementById('objetivo-image').src = data.objetivo.image;

                document.getElementById('localizarnos-title').innerText = data.localizarnos.title;
                document.getElementById('mapa-iframe').src = data.localizarnos.mapa.iframeSrc;
                document.getElementById('localizarnos-address').innerHTML = data.localizarnos.mapa.address;
                document.getElementById('localizarnos-hours').innerHTML = data.localizarnos.mapa.hours;
                    })
                    .catch(error => console.error('Error loading translation:', error));
            }

    // Funci√≥n para cargar el header y footer seg√∫n el idioma
    function loadHeaderFooter(lang) {
        let headerServlet = '';
        let footerServlet = '';

        // Definir el servlet adecuado seg√∫n el idioma
        if (lang === 'esp') {
            headerServlet = '../HeaderServlet';
            footerServlet = '../FooterServlet';
        } else if (lang === 'en') {
            headerServlet = '../HeaderENServlet';
            footerServlet = '../FooterENServlet';
        } else if (lang === 'zh') {
            headerServlet = '../HeaderZHServlet';
            footerServlet = '../FooterZHServlet';
        }

        // Cargar el header
        fetch(headerServlet)
            .then(response => response.text())
            .then(data => {
                document.getElementById("header").innerHTML = data;
                // Registrar el eventListener para el cambio de idioma despu√©s de cargar el header
                const idiomaSelect = document.getElementById('idioma');
                if (idiomaSelect) {
                    idiomaSelect.addEventListener('change', function() {
                        const selectedLanguage = this.value;  // Obtener el idioma seleccionado
                        loadTranslation(selectedLanguage);   // Cargar las traducciones correspondientes
                        loadHeaderFooter(selectedLanguage);  // Cargar los servlets correspondientes
                    });
                }
            })
            .catch(error => console.error('Error loading header:', error));

        // Cargar el footer
        fetch(footerServlet)
            .then(response => response.text())
            .then(data => {
                document.getElementById("footer").innerHTML = data;
            })
            .catch(error => console.error('Error loading footer:', error));
    }

    // Detectar el idioma del navegador
    const userLang = navigator.language || navigator.userLanguage;
    let lang = 'esp';  // Valor por defecto es espa√±ol

    if (userLang.startsWith('esp')) {
        lang = 'esp'; // Espa√±ol
    } else if (userLang.startsWith('en')) {
        lang = 'en'; // Ingl√©s
    } else if (userLang.startsWith('zh')) {
        lang = 'zh'; // Chino
    }

    // Cargar el idioma inicial
    loadTranslation(lang);
    loadHeaderFooter(lang);
</script>
    
    </body>
</html>
